---
description: 
globs: 
alwaysApply: true
---
AI Chat System Feature Overview



Tech Stack Overview






Goal:Create an animated, luxurious landing page introducing all Al Yalayis business divisions:



Al Yalayis Government Transaction Center â€“ A to Z UAE government services.



Al Yalayis Property â€“ Handling real estate & land transactions across UAE.



Super Wheel â€“ Luxury VIP transport services across UAE.



Al Yalayis Labor Supplier â€“ Workforce solutions for all industries.



UI Customization:



Light/dark modes, font size, color schemes



Smooth transitions and animations



Live runtime UI modificationsğŸ”Œ Automated Embedding

Lightweight JavaScript loader for seamless integration into websites.



ğŸ’¬ Dynamic Prompt Handling

Route prompts dynamically to Gemini or Hugging Face based on:

Business selection

Contextual rules

ğŸ§  AI Chat Response Enhancement (Prebuild + Branded)

ğŸ“¥ User Input Processing

When a user sends a message, the system merges the input with a prebuild prompt and optionally selected:

Context data (e.g., user's current session, domain, recent queries)

Knowledge Base entries

Project-specific internal storage or JSON data

ğŸ§‘â€ğŸ’» Admin-Controlled Data Fusion

Admin can select one or multiple data sources to enrich the AI's understanding:

ğŸ“‚ Internal JSON or scraped data

ğŸ“š Knowledge base segments

âš™ï¸ Project-level context or notes

The selected sources are dynamically injected into the prompt.

ğŸ¨ Response Formatting Engine

After AI returns a raw response:

ğŸ”¡ Format into predefined structure with:

ğŸŸ¨ Headings

âœ… Bullet points

ğŸ” Highlights

ğŸ”— Clickable links

ğŸ¨ Apply brand-specific styling (colors, tone, icons)

ğŸ“¢ Response acts like the brand voice itself, not generic AI

ğŸ”„ Branded Follow-Up Engine

Admin can define follow-up question(s) for continued engagement:

ğŸ¯ Positioning:

At the start, end, or inline with the response

âœï¸ Editable in admin panel

ğŸ§© Use case: â€œWould you like to apply now?â€ / â€œNeed help with something else?â€

Deliver to user

Save log

ğŸ“ Dynamic Response Formatting

Standardized Output Includes:

Titles

Bullet points

Sections

Markdown/HTML tags

Tone matching per brand/user

ğŸ—‚ï¸ User Chat History Management

Secure storage of sessions and messages

Pagination & efficient search

âš™ï¸ AI Integration & Controls

Route queries through configured AI models

Apply filters and content restrictions

Determine inclusion of data using smart tools

ğŸ› ï¸ Admin Panel Features

Manage:

Embedding scripts

Context rules

Prompt templates

Analytics & logs

Model configs

AI Modules

Scraping Engine

Response Formatter

Follow-Up Builder

Branding Manager

Chat Widget & Embedding

Guest User Registration

User Management

Role & Permission System

Live Monitoring

Chat History Viewer

Advanced Scraping System

JSON File Editor

Data Storage

Knowledge Source Manager

Contextual Filters

Analytics & Insights

Feedback Collection

System Settings Manager

Multi-Tenant Management

Backup System

Export & Import Manager

Audit Logs

ğŸ•¸ï¸ LIVE Web Scraping Engine

ğŸ” Input Options

Single URL

JSON list of URLs

ğŸŒ Embedded Browser

Browse site inside tool

Click-to-select elements

Auto-generate selectors (CSS/XPath)

ğŸ§© Selector Group Management

Save per domain

Reuse for future scraping

Stored in Database PostgreSQL

ğŸ›’ Scraping Engine Capabilities

Static & dynamic scraping (headless)

Proxy & stealth support

AJAX detection + smart wait

Extract:

Text, Lists, Tables, Metadata, Images

ğŸ§¹ AI-Assisted Text Cleaning

Modes: Basic / Thorough / Semantic

Auto-categorize extracted content

ğŸ“¤ Output Options

Formats: Raw HTML, JSON, CSV, Text

Storage: Database or Project Internal file directory

âš™ï¸ Scraping Options Panel

CSS/XPath toggle

Enable/disable:

Proxies

AI text cleaner

Table/Image/List mode

Output format

Live Preview

ğŸ§¾ Prompt & AI Management

ğŸ§  Prompt Manager

Create and manage prompt templates

ğŸ”— Prompt Templating Engine

Add variables: tone, system, fallback logic

Link prompts to specific AI models

ğŸ§© AI Module Manager

Add/remove/configure models:

Gemini

Groke

Hugging Face

Assign models per:

Use case

Domain

Brand

ğŸ”„ AI Model Activation

Enable/disable per:

Tenant

Query type

Use case

ğŸ”§ AI Configuration Panel

Set:

Temperature

Max tokens

System prompt

System Knowledge Base

System Context

System Response Formatter

System Branding

System Follow-Up Question and Options

Retry logic

Fallback model

Role/persona injection

ğŸ§° Unified Response Formatting

Consistent output across AI and scraping:

Headings

Bullets

Lists

Sections

HTML/Markdown

ğŸ”„ Follow-Up Builder

Visual builder for conversation logic:

Step-by-step

Conditional (Yes/No)

Multi-option

Dynamic based on user input

ğŸ¨ Branding Manager

Customize:

Logo, colors, fonts

Tone & greeting

Widget text

ğŸ’¬ Chat Widget & Embedding

Integration Options:

Script

iFrame

Shadow DOM

CDN

Command-line

Customization:

Size, theme, language, position (floating/fullscreen)

Title, subtitle, welcome message

Icon, sound toggle

ğŸ‘¤ Guest User Registration

Form-based registration:

Full Name

Email

Phone

Configurable required fields

Creates session + user profile

ğŸ‘¥ User Management & Monitoring

View & manage:

Guest vs. Authenticated users

Session history

User activity

Role-Based Access & Admin Controls

ğŸ‘¤ Role Management

Define roles (Admin, Moderator, Scraper, Analyst, Client Admin, etc.). Each role has scoped permissions.

ğŸ§© Permission System

Control access to each module: Chat Logs, Scraping, Prompt Manager, Model Settings, Branding, Export, Feedback, etc.

ğŸ§ª Granular Controls

Enable fine-tuned access: read-only, edit, delete, create. Prevent accidental system-wide changes.

ğŸ” Role-Based Routing

Automatically redirect users to relevant dashboards based on role. For example, scraper â†’ scraping UI, analyst â†’ analytics page.

ğŸ§¾ Activity Logs by Role

Log every action by user/role: edits, deletions, model swaps, feedback responses, etc. Include timestamps and affected modules.

ğŸ“› Client-Specific Roles

In multi-tenant setups, allow client admins to create custom roles within their namespace (e.g., HR Viewer, Agent Manager).

ğŸ” Live Monitoring

Real-time view of:

Active users

Current queries

Time on site

Chat activity

ğŸ§¾ Chat History Viewer

Logs include:

Timestamps

AI model used

Response source (AI vs Scraped)

Feedback & status

ğŸ•·ï¸ Advanced Scraping System

ğŸ–¥ï¸ Live Scraping Interface

Live preview site

Drag & click element tagging

Save selectors

ğŸ“¦ Selector Grouping & Reuse

Store per:

Domain

Page type

Share/edit across scrapers

ğŸ›ï¸ Scraping Options

Scrape:

Single URL

Multiple URLs

JSON Bulk URLs

Output types:

Text

HTML

Metadata

JSON

ğŸ“ Scraped Data Export

Filter options:

Clean text, Metadata, HTML, Images, Ads

Formats:

CSV, JSON, Markdown, TXT

ğŸ“Š Scraper Monitor

Track:

Last run

Page count

Errors

Result size

ğŸ” Scraping Filters

Exclude:

Headers

Footers

Ads

Media

Pagination

ğŸ§  AI Fallback System

If scraper fails:

Send query to AI

AI generates replacement data

Optional save for reuse

ğŸ› ï¸ JSON File Editor

Manually edit:

Scraped

AI-generated

Fallback content

Version-controlled UI

ğŸ—ƒï¸ Data Storage Layer

Store to:

PostgreSQL (structured)

Vector DB (semantic)

Hybrid architecture

ğŸ§­ Knowledge Source Manager

Prioritize sources:

Scraping

Files

AI

APIs

Rules for:

Merge

Override

Fallback

ğŸ” Contextual Filters

Restrict queries by:

Keyword

Category

Intent

Domain

ğŸ“ˆ Analytics & Insights

View:

Top queries

Model usage

AI fallbacks

Retention rate

Avg. response time

Funnel (Follow-ups)

Export: CSV / JSON

â­ Feedback Collection

Collect:

Thumbs up/down

Comments

Star ratings (1â€“5)

Feedback type (e.g. unclear, incorrect)

ğŸ” System Settings Manager

Platform controls:

Theme

Rate limits

Session expiry

Logging

Language fallback

ğŸ¢ Multi-Tenant Support

Isolate:

Models

Branding

Data

Settings

Each client = separate namespace

ğŸ’¾ Backup System

Auto-backup:

Chats

Scraped content

Logs

System configs

Download or schedule to cloud/local

ğŸ“¤ğŸ“¥ Export & Import Manager

Bulk transfer of:

Chat logs

Templates

JSON files

AI configs

Scraping rules

ğŸ“‹ Audit Trail & Logs

Track:

Admin logins

Config changes

AI usage

Scraping events

Failures & alerts

ğŸ¨ UI Styling Guidelines

ğŸ¨ Color

Brand-aligned theme colors

ğŸ§± Layout

Clean, modular admin panel with clear nav

ğŸ”¤ Typography

Sans-serif fonts, clear text hierarchy

ğŸŒ€ Animation

Subtle transitions for:

Loaders

Message appearance

Navigation interactions

